\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{verbatim}
\providecommand{\abs}[1]{\lvert#1\rvert}
\providecommand{\norm}[1]{\lVert#1\rVert}

\newtheorem{thm}{Theorem}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{fact}[thm]{Fact}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{eg}{Example}
\newtheorem{ex}{Exercise}
\newtheorem{defi}{Definition}
\theoremstyle{definition}
\newtheorem{hw}{Problem}
\newenvironment{sol}
  {\par\vspace{3mm}\noindent{\it Solution}.}
  {\qed}

\newcommand{\ov}{\overline}
\newcommand{\cb}{{\cal B}}
\newcommand{\cc}{{\cal C}}
\newcommand{\cd}{{\cal D}}
\newcommand{\ce}{{\cal E}}
\newcommand{\cf}{{\cal F}}
\newcommand{\ch}{{\cal H}}
\newcommand{\cl}{{\cal L}}
\newcommand{\cm}{{\cal M}}
\newcommand{\cp}{{\cal P}}
\newcommand{\cs}{{\cal S}}
\newcommand{\cz}{{\cal Z}}
\newcommand{\eps}{\varepsilon}
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\newcommand{\Ra}{\Rightarrow}
\newcommand{\dist}{\mbox{\rm dist}}
\newcommand{\bn}{{\mathbf N}}
\newcommand{\bz}{{\mathbf Z}}

\setlength{\parindent}{0pt}
%\setlength{\parskip}{2ex}
\newenvironment{proofof}[1]{\bigskip\noindent{\itshape #1. }}{\hfill$\Box$\medskip}

\renewcommand{\familydefault}{pnc}

\begin{document}

$\;$\hfill Suggested due date: 2018/03/28

\bigskip

\begin{center}
{\LARGE\bf Combinatorics: Homework 4}
\end{center}

\bigskip

\section{Problems}

\begin{hw}
How many permutations of $[n]$ has exactly $n-2$ cycles?
\end{hw}

\begin{sol}
	There are two cases. 
	\begin{itemize}
		\item There is a cycle that contains 3 elements. In this case, there are $2\binom{n}{3,n-3}$ such permutations.
		\item There are two cycles that contain 2 elements. In this case, there are $\binom{n}{2,2,n-4}$ such permutations.
	\end{itemize}
	The number is 
	$$
		\frac{n(n-1)(n-2)(3n-5)}{12}
	$$
\end{sol}

\begin{hw}
Let $\pi$ and $\sigma$ be two permutations of $[2018]$ with $2000$ cycles each. What is the minimum and maximum number of cycles $\pi \circ \sigma$ can have?
\end{hw}

\begin{sol}
	If $\pi$ has $k$ cycles, then $\pi^{-1}$, inverse of $\pi$, has also $k$ cycles. Thus let $\sigma = \pi^{-1}$ and we will get that $\pi \circ \sigma = 1$, which has $2018$ cycles.
	
	It's a little complex for the minimum case. If a permutation of $[n]$ has $k$ cycles, we can represent the permutation by multiplying $n-k$ transpositions. For example $(1234)(567) = (12)(23)(34)(56)(67)$. Then we can represent $\sigma$ by multiplying $18$ transpositions. In class, we know that multiplying $\pi$ by a transposition can only change the number of cycles in $\pi$ by one. Then the range of cycles in $\sigma \circ \pi$ is $[1982,2018]$. We have known that $2018$ is reachable. In fact $1982$ is also reachable. Let $\sigma = (1,2)(3,4)\cdots (35,36)$ and $\pi = (1983,1984)\cdots (2017,2018)$, then $\sigma \circ \pi$ has $1982$ cycles.
\end{sol}

\begin{hw}
Let $G$ be a graph with vertices $v_1$, $v_2$, $\dots$, $v_{100}$
and edges $v_1v_2$, $v_2v_3$, $\dots$, $v_{99}v_{100}$, $v_{100}v_1$,
and $v_1v_{51}$. Compute the chromatic polynomial of $G$.
\end{hw}

\begin{sol}
	
	\begin{comment}
	Let's define $e_0 = v_1v_{51}$, $e_i = v_iv_{(i \bmod 100) + 1}$ and $A = \{e_1, e_2, \dots e_{50}\}$, $B = \{e_{51}, e_{52}, \dots e_{100} \}$, $C = \{e_0 \}$. Also 
	$$
		P_G(x) = a_0+a_1x+a_2x^2+\cdots+a_nx^n
	$$
	Let's consider what $a_i$ equals to.
	\[
	\begin{split}
		a_i & = \sum_{F \subseteq E  }(-1)^{\abs{F}}[c(F)=i] \\
			& = \sum_{F_1\subseteq A}\sum_{F_2\subseteq B}\sum_{F_3\subseteq C}(-1)^{\abs{F_1}+\abs{F_2}+\abs{F_3}}[c(F_1\cup F_2 \cup F_3)=i] \\
			& = \sum_{F_1\subseteq A}\sum_{F_2\subseteq B}(-1)^{\abs{F_1}+\abs{F_2}}([c(F_1\cup F_2)=i] - [c(F_1\cup F_2 \cup \{e_0\}) = i]) \\
			& = \sum_{a=0}^{50}\sum_{b=0}^{50}\binom{50}{a}\binom{50}{b}(-1)^{a+b}([i = 100 - a - b]-[])
	\end{split}
	\]
	\end{comment}
	
	
	
	
	Let's define $e_0 = v_1v_{51}$, $e_i = v_iv_{(i \bmod 100) + 1}$ and $A = \{e_1, e_2, \dots e_{50}\}$, $B = \{e_{51}, e_{52}, \dots e_{100} \}$, $C = \{e_0 \}$. Then 
	\[ 
	\begin{split}
		P_G(x) & = \sum_{F \subseteq E}(-1)^{\abs{F}}x^{c(F)} 	\\
			   & = \sum_{F_1\subseteq A}\sum_{F_2\subseteq B}\sum_{F_3\subseteq C}(-1)^{\abs{F_1}+\abs{F_2}+\abs{F_3}}x^{c(F_1 \cup F_2 \cup F_3)}	\\
			   & = \sum_{F_1\subseteq A}\sum_{F_2\subseteq B}(-1)^{\abs{F_1}+\abs{F_2}}(x^{c(F_1\cup F_2)} - x^{c(F_1\cup F_2 \cup \{e_0\})}) \\
			   & = \sum_{k_1 = 0}^{50}\sum_{k_2 = 0}^{50}\binom{50}{a}\binom{50}{b}(-1)^{k_1+k_2}(x^{100-k_1-k_2} - x^{99-k_1-k_2+[k_1=50]+[k_2=50]})  \\
			   & = (x-1)^{100} - \frac{1}{x}\sum_{k_1 = 0}^{50}\sum_{k_2 = 0}^{50}\binom{50}{a}\binom{50}{b}(-1)^{k_1+k_2}x^{100-k_1-k_2+[k_1=50]+[k_2=50]}
	\end{split}
	\]
	Let's compute the second part of the last line :
	\[
	\begin{split}
		&\sum_{k_1 = 0}^{50}\sum_{k_2 = 0}^{50}\binom{50}{a}\binom{50}{b}(-1)^{k_1+k_2}x^{100-k_1-k_2+[k_1=50]+[k_2=50]} \\
	  = & ((x-1)^{100} - 2\sum_{k=0}^{50}\binom{50}{k}(-1)^kx^{50-k} + 1) + 2\sum_{k=0}^{49}\binom{50}{k}(-1)^{k}x^{50-k} + x^2 \\
	  = & ((x-1)^{100} - 2(x-1)^{50} + 1)+2((x-1)^{50}-1)+x^2 \\
	  = & ((x-1)^{50}-1)^2+2((x-1)^{50}-1)+1+x^2-1	\\
	  = & (((x-1)^{50}-1)^2+1)^2+x^2-1
	\end{split}
	\]
	
	

	
\end{sol}

\begin{hw}
Let $G$ be a graph with $n$ vertices, and $P_G$ its chromatic
polynomial,
prove that any root $x$ of $P_G$ satisfies $x \leq n-1$.
\end{hw}

\begin{hw} 
The names of 100 prisoners are placed in 100 wooden boxes, one name to a box, and the boxes are
lined up on a table in a room. One by one, the prisoners are led into the room; each may look
in at most 50 boxes, but must leave the room exactly as he found it and is permitted no further
communication with the others.

The prisoners have a chance to plot their strategy in advance, and they are going to need it,
because unless every single prisoner finds his own name all will subsequently be executed.

Find a strategy for them which which has probability of success exceeding 30\%.
\end{hw}

{\em Comment:} If each prisoner examines a random set of 50 boxes, their probability of survival
is an unenviable 
\[1/2^{100} \sim 0.0000000000000000000000000000008.\] They could do worse if they all
look in the same 50 boxes, their chances drop to zero. 30\% seems ridiculously out of reachbut
yes, you heard the problem correctly.

{\em My comment:} The beautiful statement and comment above was written by Peter Winkler. I need
to clarify that, when each prisoner enters the room, he open
the boxes one by one. And, unfortunately, they all have different names.

\begin{hw}
Now these 100 prisoners are lined up in a queue. You have your firing squad ready, but also 101 hats, each with a distinct colour. 
Being a nice person, you give them a last chance and play a game with them. You will secretly hide one hat, then start from the last prisoner in the queue, pick one hat and put it on his (or her, if you insists) head. This way each prisoner sees all the hats before him
(ughrr her).

Then, start from the last person, one by one, each prisoner can shout out one among the names of the 101 colours. These will be their last shouts as soon as two of them shouted a colour that is not on his (I insist his) hat.

Again, they can plot a strategy before the game starts. Will they survive?
\end{hw}

{\em Comment:} Gustav Mahler's last word in this world was "Mozart". But Mozart is not a colour.

\section{Other problems}

Problems here are optional for the due date, but are related to our class at some nice point in the future.

\begin{hw}
Consider all the permutations on $[100]$ and their cycle
representations.
Let $N$ be the number of those permutations with
exactly 50 cycles. What is $N \mod 3$? Prove your answer.
\end{hw}

\begin{hw}
Prove that, for any positive integer $k$, there exists
a graph whose chromatic number is $k$, yet it does not
contain a triangle.
\end{hw}

\end{document}